
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>FORM</h2>
<table id="form-grid">
    <thead>
        <tr>
            <th data-column-id="Id">ID</th>
            <th data-column-id="Name">Name</th>
            <th data-column-id="Description">Description</th>
            <th data-column-id="CreatedAt">CreatedAt</th>
            <th data-column-id="CreatedBy">CreatedBy</th>
        </tr>
    </thead>
</table>


<script>
    $(document).ready(function () {
        $.ajax({
            url: '/Form/GetFormList',
            method: 'get',
            dataType: 'json',
            success: function (data) {
                $('#form-grid').DataTable({
                    data: data,
                    columns: [
                        { "data": "Id", "autoWidth": true },
                        { "data": "Name", "autoWidth": true },
                        { "data": "Description", "autoWidth": true },
                        {
                            "data": "CreatedAt",
                            "render": function (jsonDate) {
                                var value = new Date
                                 (
                                 parseInt(jsonDate.replace(/(^.*\()|([+-].*$)/g, ''))
                                 );
                                var date = value.getMonth() +
                                                         1 +
                                                       "/" +
                                           value.getDate() +
                                                       "/" +
                                       value.getFullYear();
                               return date
                            }
                        },
                        { "data": "CreatedBy", "autoWidth": true }
                    ]

                });
            }
        });
    });
</script>
